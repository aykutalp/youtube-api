function onYouTubeIframeAPIReady(){mPlayer=new YT.Player("mplayer",{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange},playerVars:playerDefaults})}function onPlayerReady(){mPlayer.cuePlaylist({listType:"playlist",list:"PLwUSw0O4FYbTOkprHePUAi7aoqo2EwofK",index:0,startSeconds:"0"}),clearInterval(timeInterval),timeInterval=setInterval(function(){timeValue=Math.round(mPlayer.getCurrentTime()/mPlayer.getDuration()*100),displayTime(timeValue)},1e3)}function onPlayerStateChange(e){e.data==YT.PlayerState.CUED&&(videoList=mPlayer.getPlaylist(),nextVid()),e.data==YT.PlayerState.ENDED&&nextVid()}function nextVid(){num=randomId(),mPlayer.loadVideoById({videoId:videoList[num]}),videoTitle(videoList[num]),console.log(videoList.length)}function randomId(){return oldNum=randomNum,randomNum=Math.floor(Math.random()*videoList.length),oldNum!=randomNum?randomNum:void randomId()}function videoTitle(e){$.get("https://www.googleapis.com/youtube/v3/videos",{part:"snippet",id:e,key:"AIzaSyD3wRE0k6Q-zGj8-j-yP0tn5KG2kFF0Vok"},function(e){var t=e.items[0].snippet.title;console.log(t),t=t.split("(").shift().split("[").shift().split("official").shift().split("Official").shift(),document.title="Muzikly | "+t,$(".description").text(t)})}function displayTime(e){$(".dial").val(e).trigger("change")}var timeInterval,mPlayer,videoList,randomNum,oldNum,num,playerDefaults={autoplay:0,autohide:1,modestbranding:0,rel:0,showinfo:0,controls:0,disablekb:1,enablejsapi:1,iv_load_policy:3},tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$(".dial").knob({width:40,height:40,thickness:.18,fgColor:"#c7d4c7",bgColor:"#282430",readOnly:!1,displayInput:!1,change:function(e){console.log(e)}}),$(".on-off").on("click",function(){var e=$(this);e.hasClass("rotate")?(e.removeClass("rotate"),mPlayer.playVideo()):(e.addClass("rotate"),mPlayer.pauseVideo())}),$(".player-next").on("click",function(){$onOff=$(".on-off"),$onOff.hasClass("rotate")&&$onOff.removeClass("rotate"),nextVid()});